(*Задание 14 Написать функцию обход делителей числа, которая
выполняет операции над делителями числа, принимает три аргумента,
число, функция (например, сумма, произведение, минимум, максимум) и
инициализирующее значение. Функция должна иметь два Int аргумента и
возвращать Int.*)

open System

let rec Div (a:int,init:int,beg:int,func: int->int-> int):int = 
    match beg with
    | beg when beg > a/2 -> init
    | beg when a%beg = 0 -> Div(a,func init beg, beg+1, func)
    | beg -> Div(a,init,beg+1,func)

let uFun (a:int,init:int,func: int->int->int) = Div(a,init,1,func)

let ergv = 
    Console.WriteLine("Введите число:")
    let a = System.Convert.ToInt32(Console.ReadLine())
    Console.WriteLine("Сумма делителей числа:")
    Console.WriteLine(uFun(a,0,fun a b -> a + b))
    Console.WriteLine("Произведение делителей числа:")
    Console.WriteLine(uFun(a,1,fun a b->a*b))
    0
